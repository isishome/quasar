import{I as m,aB as y,_ as k,a1 as I,r as d,h as $,u as q,a5 as c,o as f,c as g,d as l,a7 as v,aa as p,S as w}from"./index.b6be4404.js";const h={threshold:0,root:null,rootMargin:"0px"};function _(a,e,s){let n,r,t;typeof s=="function"?(n=s,r=h,t=e.cfg===void 0):(n=s.handler,r=Object.assign({},h,s.cfg),t=e.cfg===void 0||y(e.cfg,r)===!1),e.handler!==n&&(e.handler=n),t===!0&&(e.cfg=r,e.observer!==void 0&&e.observer.unobserve(a),e.observer=new IntersectionObserver(([o])=>{if(typeof e.handler=="function"){if(o.rootBounds===null&&document.body.contains(a)===!0){e.observer.unobserve(a),e.observer.observe(a);return}(e.handler(o,e.observer)===!1||e.once===!0&&o.isIntersecting===!0)&&b(a)}},r),e.observer.observe(a))}function b(a){const e=a.__qvisible;e!==void 0&&(e.observer!==void 0&&e.observer.unobserve(a),delete a.__qvisible)}const B=m({name:"intersection",mounted(a,{modifiers:e,value:s}){const n={once:e.once===!0};_(a,n,s),a.__qvisible=n},updated(a,e){const s=a.__qvisible;s!==void 0&&_(a,s,e.value)},beforeUnmount:b});const C=["data-language"],D=["data-language"],E={__name:"Code",props:{language:{type:String,default:"html"},intersection:{type:Boolean,default:!1},convert:{type:Object,default:()=>({})}},setup(a){const e=a,s=I(),n=d(()=>s.platform.has.touch),r=d(()=>e.convert[e.language]||e.language),t=window.Prism;t.disableWorkerMessageHandler=!0,$(()=>{o.value&&t.highlightElement(o.value)});const o=q(null),u=i=>{!s.platform.has.touch&&e.intersection&&i.isIntersecting&&t.highlightElement(o.value)};return(i,M)=>c(n)?(f(),g("div",{key:0,class:"pre-wrap","data-language":c(r)},[l("pre",null,[l("code",{ref_key:"code",ref:o,class:v(`language-${a.language}`)},p(i.$slots.default()[0].children.replace(/^[\r\n\s]{0,}/,"").replace(/[\r\n\s]{0,}$/,"")),3)])],8,C)):w((f(),g("div",{key:1,class:"pre-wrap","data-language":c(r)},[l("pre",null,[l("code",{ref_key:"code",ref:o,class:v(`language-${a.language}`)},p(i.$slots.default()[0].children.replace(/^[\r\n\s]{0,}/,"").replace(/[\r\n\s]{0,}$/,"")),3)])],8,D)),[[B,u,void 0,{once:!0}]])}},S=k(E,[["__scopeId","data-v-f2a8196a"]]);export{S as default};
